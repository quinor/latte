typecheck
    plus variable shadows
    plus variable usage stats (if zero then error)
main existence + type (or just add start() function that calls main)
